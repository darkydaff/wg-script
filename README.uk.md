# wg-script

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è [wg-easy](https://github.com/wg-easy/wg-easy) ‚Äî –ø—Ä–æ—Å—Ç–æ–≥–æ VPN —Å–µ—Ä–≤–µ—Ä–∞ WireGuard –∑ –∑—Ä—É—á–Ω–∏–º –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## üìã –û–≥–ª—è–¥

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è wg-easy –Ω–∞ Linux —Å–µ—Ä–≤–µ—Ä—ñ. –í—ñ–Ω –≤–∏–∫–æ–Ω—É—î:
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Docker (—è–∫—â–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π)
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è curl (—è–∫—â–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—É–±–ª—ñ—á–Ω–æ—ó IP-–∞–¥—Ä–µ—Å–∏
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—é –±–µ–∑–ø–µ—á–Ω–æ–≥–æ —Ö–µ—à—É –ø–∞—Ä–æ–ª—è
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –º–µ—Ä–µ–∂–µ—é —Ç–∞ –¥–æ–∑–≤–æ–ª–∞–º–∏

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏

- Linux —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –±–∞–∑—ñ Ubuntu/Debian
- –ü—Ä–∞–≤–∞ sudo
- –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–∞ –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç:

```bash
curl -O https://raw.githubusercontent.com/darkydaff/wg-script/refs/heads/main/setup-wg.sh
chmod +x setup-wg.sh
sudo ./setup-wg.sh
```

–ê–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ:

```bash
bash <(curl -s https://raw.githubusercontent.com/darkydaff/wg-script/refs/heads/main/setup-wg.sh)
```

### –©–æ —Ä–æ–±–∏—Ç—å —Å–∫—Ä–∏–ø—Ç

1. **–û–Ω–æ–≤–ª—é—î —Å–∏—Å—Ç–µ–º—É** - –í–∏–∫–æ–Ω—É—î `apt update && apt upgrade`
2. **–í—Å—Ç–∞–Ω–æ–≤–ª—é—î Docker** - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î Docker, —è–∫—â–æ –≤—ñ–Ω —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
3. **–í—Å—Ç–∞–Ω–æ–≤–ª—é—î curl** - –í—Å—Ç–∞–Ω–æ–≤–ª—é—î curl, —è–∫—â–æ –≤—ñ–Ω —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
4. **–í–∏–∑–Ω–∞—á–∞—î –ø—É–±–ª—ñ—á–Ω—É IP** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î –ø—É–±–ª—ñ—á–Ω—É IP-–∞–¥—Ä–µ—Å—É –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
5. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è** - –ó–∞–ø–∏—Ç—É—î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–π –ø–∞—Ä–æ–ª—å —Ç–∞ –≥–µ–Ω–µ—Ä—É—î –±–µ–∑–ø–µ—á–Ω–∏–π —Ö–µ—à
6. **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º** - –í–∏–¥–∞–ª—è—î —ñ—Å–Ω—É—é—á–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä wg-easy (—è–∫—â–æ —î) —Ç–∞ –∑–∞–ø—É—Å–∫–∞—î –Ω–æ–≤–∏–π
7. **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è** - –ù–∞–ª–∞—à—Ç–æ–≤—É—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑:
   - –í–µ–±-–ø–∞–Ω–µ–ª–ª—é –Ω–∞ –ø–æ—Ä—Ç—É **35031** (TCP)
   - WireGuard –Ω–∞ –ø–æ—Ä—Ç—É **35030** (UDP)
   - –ü–æ—Å—Ç—ñ–π–Ω–∏–º —Å—Ö–æ–≤–∏—â–µ–º —É `~/.wg-easy`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å–∏—Å—Ç–µ–º–∏

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–°–∫—Ä–∏–ø—Ç –Ω–∞–ª–∞—à—Ç–æ–≤—É—î wg-easy –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

- **–ü–æ—Ä—Ç –≤–µ–±-–ø–∞–Ω–µ–ª—ñ**: `35031` (TCP)
- **–ü–æ—Ä—Ç WireGuard**: `35030` (UDP)
- **–î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –¥–∞–Ω–∏—Ö**: `~/.wg-easy` (–ø–æ—Å—Ç—ñ–π–Ω–∏–π —Ç–æ–º)
- **–ù–∞–∑–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: `wg-easy`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫**: –£–≤—ñ–º–∫–Ω–µ–Ω–æ (`unless-stopped`)

## üåê –î–æ—Å—Ç—É–ø –¥–æ –≤–µ–±-–ø–∞–Ω–µ–ª—ñ

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–∫—Ä–∏–ø—Ç–∞ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –≤–∏–≤—ñ–¥ –Ω–∞ –∫—à—Ç–∞–ª—Ç:

```
‚úÖ wg-easy is now running!
üåê Web panel: http://–í–ê–®–ê_IP_–ê–î–†–ï–°–ê_–°–ï–†–í–ï–†–ê:35031
```

–î–æ—Å—Ç—É–ø –¥–æ –≤–µ–±-–ø–∞–Ω–µ–ª—ñ –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://–í–ê–®–ê_IP_–ê–î–†–ï–°–ê_–°–ï–†–í–ï–†–ê:35031` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏–π –ø–∞—Ä–æ–ª—å, –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –ø—ñ–¥ —á–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è.

## üîí –ü—Ä–∏–º—ñ—Ç–∫–∏ –±–µ–∑–ø–µ–∫–∏

- –°–∫—Ä–∏–ø—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `read -s` –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è (–ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π –≤–≤—ñ–¥)
- –ü–∞—Ä–æ–ª—å —Ö–µ—à—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–±—É–¥–æ–≤–∞–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —Ö–µ—à—É–≤–∞–Ω–Ω—è wg-easy
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø–æ—Ä—Ç–∏ 35030 (UDP) —Ç–∞ 35031 (TCP) –≤—ñ–¥–∫—Ä–∏—Ç—ñ —É –≤–∞—à–æ–º—É —Ñ–∞–π—Ä–≤–æ–ª—ñ
- –†–æ–∑–≥–ª—è–Ω—å—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–æ—Ä—Ç—É 35031 –ª–∏—à–µ –¥–ª—è –¥–æ–≤—ñ—Ä–µ–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å

## üì¶ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ñ–∞–π—Ä–≤–æ–ª—É

–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ UFW, –¥–æ–∑–≤–æ–ª—å—Ç–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ—Ä—Ç–∏:

```bash
sudo ufw allow 35030/udp
sudo ufw allow 35031/tcp
```

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

### –ó—É–ø–∏–Ω–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker stop wg-easy
```

### –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker start wg-easy
```

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏:
```bash
docker logs wg-easy
```

### –í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ ~/.wg-easy):
```bash
docker rm -f wg-easy
```

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –°–∫—Ä–∏–ø—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `set -e` –¥–ª—è –≤–∏—Ö–æ–¥—É –ø—Ä–∏ –±—É–¥—å-—è–∫—ñ–π –ø–æ–º–∏–ª—Ü—ñ
- –Ü—Å–Ω—É—é—á—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ wg-easy –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –Ω–æ–≤–æ–≥–æ
- –§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó WireGuard –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `~/.wg-easy` —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—ñ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Ç—Ä–µ–±—É—î –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π `NET_ADMIN` —Ç–∞ `SYS_MODULE` –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ WireGuard

## üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è

- [–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π wg-easy –Ω–∞ GitHub](https://github.com/wg-easy/wg-easy)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è WireGuard](https://www.wireguard.com/)

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–î–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª LICENSE –≤ –∫–æ—Ä–µ–Ω—ñ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –¥–ª—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ª—ñ—Ü–µ–Ω–∑—ñ—é.
